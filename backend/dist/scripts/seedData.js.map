{"version":3,"file":"seedData.js","sourceRoot":"","sources":["../../src/scripts/seedData.ts"],"names":[],"mappings":"AAAA,OAAO,QAAQ,MAAM,UAAU,CAAC;AAChC,OAAO,MAAM,MAAM,QAAQ,CAAC;AAC5B,OAAO,IAAI,MAAM,MAAM,CAAC;AACxB,OAAO,EAAE,aAAa,EAAE,MAAM,KAAK,CAAC;AAGpC,MAAM,SAAS,GAAG,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;AAC/D,MAAM,CAAC,MAAM,CAAC,EAAE,IAAI,EAAE,IAAI,CAAC,OAAO,CAAC,SAAS,EAAE,YAAY,CAAC,EAAE,CAAC,CAAC;AAE/D,MAAM,MAAM,GAAG,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC;AAIlC,MAAM,UAAU,GAAG,IAAI,QAAQ,CAAC,MAAM,CAAC;IACrC,QAAQ,EAAE,EAAE,IAAI,EAAE,MAAM,EAAE,QAAQ,EAAE,IAAI,EAAE,MAAM,EAAE,IAAI,EAAE;IACxD,QAAQ,EAAE,EAAE,IAAI,EAAE,MAAM,EAAE,QAAQ,EAAE,IAAI,EAAE;IAC1C,IAAI,EAAE,EAAE,IAAI,EAAE,MAAM,EAAE,OAAO,EAAE,OAAO,EAAE;IACxC,QAAQ,EAAE,MAAM;IAChB,SAAS,EAAE,EAAE,IAAI,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,CAAC,GAAG,EAAE;CAC7C,CAAC,CAAC;AAEH,MAAM,IAAI,GAAG,QAAQ,CAAC,MAAM,CAAC,IAAI,IAAI,QAAQ,CAAC,KAAK,CAAC,MAAM,EAAE,UAAU,CAAC,CAAC;AAExE,KAAK,UAAU,YAAY;IACzB,OAAO,CAAC,GAAG,CAAC,8BAA8B,CAAC,CAAC;IAE5C,IAAI,CAAC,MAAM,EAAE,CAAC;QACZ,OAAO,CAAC,KAAK,CAAC,mDAAmD,CAAC,CAAC;QACnE,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;IAClB,CAAC;IAED,IAAI,CAAC;QACH,MAAM,QAAQ,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;QAC/B,OAAO,CAAC,GAAG,CAAC,wBAAwB,CAAC,CAAC;QAGtC,MAAM,IAAI,CAAC,UAAU,CAAC,EAAE,CAAC,CAAC;QAC1B,OAAO,CAAC,GAAG,CAAC,2BAA2B,CAAC,CAAC;QAGzC,MAAM,SAAS,GAAG;YAChB;gBACE,QAAQ,EAAE,OAAO;gBACjB,QAAQ,EAAE,aAAa;gBACvB,IAAI,EAAE,OAAO;gBACb,QAAQ,EAAE,sBAAsB;aACjC;YACD;gBACE,QAAQ,EAAE,OAAO;gBACjB,QAAQ,EAAE,aAAa;gBACvB,IAAI,EAAE,OAAO;gBACb,QAAQ,EAAE,gBAAgB;aAC3B;SACF,CAAC;QAEF,MAAM,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC;QACjC,OAAO,CAAC,GAAG,CAAC,yBAAyB,SAAS,CAAC,MAAM,QAAQ,CAAC,CAAC;QAE/D,MAAM,QAAQ,CAAC,UAAU,EAAE,CAAC;QAC5B,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;IAClB,CAAC;IAAC,OAAO,KAAK,EAAE,CAAC;QACf,OAAO,CAAC,KAAK,CAAC,mBAAmB,EAAE,KAAK,CAAC,CAAC;QAC1C,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;IAClB,CAAC;AACH,CAAC;AAED,YAAY,EAAE,CAAC","sourcesContent":["import mongoose from 'mongoose';\r\nimport dotenv from 'dotenv';\r\nimport path from 'path';\r\nimport { fileURLToPath } from 'url';\r\n\r\n// Load environment variables\r\nconst __dirname = path.dirname(fileURLToPath(import.meta.url));\r\ndotenv.config({ path: path.resolve(__dirname, '../../.env') });\r\n\r\nconst DB_URI = process.env.DB_URI;\r\n\r\n// Define a basic User schema for seeding\r\n// Note: In a real application, you should import this from your models directory\r\nconst userSchema = new mongoose.Schema({\r\n  username: { type: String, required: true, unique: true },\r\n  password: { type: String, required: true }, // In production, ensure this is hashed!\r\n  role: { type: String, default: 'staff' },\r\n  fullName: String,\r\n  createdAt: { type: Date, default: Date.now }\r\n});\r\n\r\nconst User = mongoose.models.User || mongoose.model('User', userSchema);\r\n\r\nasync function seedDatabase() {\r\n  console.log('üå± Starting database seed...');\r\n\r\n  if (!DB_URI) {\r\n    console.error('‚ùå Error: DB_URI is not defined in your .env file.');\r\n    process.exit(1);\r\n  }\r\n\r\n  try {\r\n    await mongoose.connect(DB_URI);\r\n    console.log('‚úÖ Connected to MongoDB');\r\n\r\n    // Clear existing data\r\n    await User.deleteMany({});\r\n    console.log('üßπ Cleared existing users');\r\n\r\n    // Define test data\r\n    const testUsers = [\r\n      {\r\n        username: 'admin',\r\n        password: 'password123', // Ideally, use bcrypt to hash this\r\n        role: 'admin',\r\n        fullName: 'System Administrator'\r\n      },\r\n      {\r\n        username: 'staff',\r\n        password: 'password123',\r\n        role: 'staff',\r\n        fullName: 'Omo Bank Staff'\r\n      }\r\n    ];\r\n\r\n    await User.insertMany(testUsers);\r\n    console.log(`‚ú® Successfully seeded ${testUsers.length} users`);\r\n    \r\n    await mongoose.disconnect();\r\n    process.exit(0);\r\n  } catch (error) {\r\n    console.error('‚ùå Seeding failed:', error);\r\n    process.exit(1);\r\n  }\r\n}\r\n\r\nseedDatabase();"]}