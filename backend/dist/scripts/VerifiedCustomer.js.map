{"version":3,"file":"VerifiedCustomer.js","sourceRoot":"","sources":["../../src/scripts/VerifiedCustomer.ts"],"names":[],"mappings":"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","sourcesContent":["import mongoose from 'mongoose';\r\nimport dotenv from 'dotenv';\r\nimport User from '../models/User';\r\nimport CustomerFayda from '../models/CustomerFayda';\r\n\r\ndotenv.config();\r\n\r\nconst MONGO_URI = process.env.MONGO_URI || 'mongodb://localhost:27017/fayda-omo-api';\r\n\r\nconst firstNames = [\r\n  \"Abebe\", \"Kebede\", \"Almaz\", \"Aster\", \"Bekele\", \"Chala\", \"Desta\", \"Ephrem\", \"Fikru\", \"Genet\",\r\n  \"Hailu\", \"Indale\", \"Jemal\", \"Kassa\", \"Lemma\", \"Meron\", \"Nardos\", \"Omod\", \"Paulos\", \"Qale\",\r\n  \"Rahel\", \"Samuel\", \"Tariku\", \"Ujulu\", \"Wondimu\", \"Yared\", \"Zenebe\", \"Tigist\", \"Meseret\", \"Birtukan\",\r\n  \"Dawit\", \"Elias\", \"Fasika\", \"Getachew\", \"Hana\", \"Ibrahim\", \"Jonas\", \"Kidist\", \"Lidet\", \"Martha\",\r\n  \"Nebiyu\", \"Olana\", \"Petros\", \"Robel\", \"Solomon\", \"Tesfaye\", \"Urgessa\", \"Worku\", \"Yonas\", \"Zelalem\"\r\n];\r\n\r\nconst fatherNames = [\r\n  \"Alemu\", \"Berhanu\", \"Chane\", \"Demeke\", \"Ejigu\", \"Fekadu\", \"Girma\", \"Haile\", \"Iyasu\", \"Jemberu\",\r\n  \"Kifle\", \"Lema\", \"Mamo\", \"Negash\", \"Oumer\", \"Poulos\", \"Qana\", \"Reda\", \"Seyoum\", \"Tadesse\",\r\n  \"Umer\", \"Wolde\", \"Yilma\", \"Zewdu\", \"Assefa\", \"Belay\", \"Dagne\", \"Eshetu\", \"Fisseha\", \"Gebre\",\r\n  \"Hadgu\", \"Ibsa\", \"Jifar\", \"Kassahun\", \"Legesse\", \"Mekonnen\", \"Nega\", \"Oljira\", \"Pita\", \"Qoricho\",\r\n  \"Regassa\", \"Sileshi\", \"Tekle\", \"Uga\", \"Wondwossen\", \"Yimer\", \"Zeleke\", \"Abate\", \"Bogale\", \"Derese\"\r\n];\r\n\r\nconst generateEthiopianName = () => {\r\n  const first = firstNames[Math.floor(Math.random() * firstNames.length)];\r\n  const father = fatherNames[Math.floor(Math.random() * fatherNames.length)];\r\n  return `${first} ${father}`;\r\n};\r\n\r\nconst seedVerifiedCustomers = async () => {\r\n  try {\r\n    await mongoose.connect(MONGO_URI);\r\n    console.log('MongoDB connected for seeding verified customers...');\r\n\r\n    // Clear existing users to avoid duplicates during development\r\n    await User.deleteMany({});\r\n    await CustomerFayda.deleteMany({});\r\n    console.log('Existing users and Fayda customers cleared...');\r\n\r\n    const users = [];\r\n    const faydaCustomers = [];\r\n    // Starting account number as BigInt to handle 16 digits safely\r\n    const baseAccount = 1091880213324801n;\r\n\r\n    for (let i = 0; i < 50; i++) {\r\n      const fullName = generateEthiopianName();\r\n      \r\n      // Generate unique phone number: 2519 + 8 digits (sequential to ensure uniqueness)\r\n      // Starting from 251910000000\r\n      const phoneNumber = `2519${(10000000 + i).toString()}`;\r\n      \r\n      // Generate sequential account number\r\n      const accountNumber = (baseAccount + BigInt(i)).toString();\r\n      \r\n      // Generate a mock Fayda Number (16 digits)\r\n      const faydaNumber = `8${(100000000000000 + i).toString()}`;\r\n\r\n      // ---------------------------------------------------------\r\n      // 1. Omo Bank System User Data (Internal Banking Record)\r\n      // ---------------------------------------------------------\r\n      const omoBankUser = {\r\n        fullName,\r\n        phoneNumber,\r\n        accountNumber,\r\n        kycStatus: 'VERIFIED',\r\n        isHarmonized: false, // Set to true if you want them pre-harmonized\r\n        role: 'user',\r\n        email: `customer${i + 1}@omobank.et`,\r\n        address: 'Addis Ababa, Ethiopia',\r\n        username: `user_${accountNumber.slice(-6)}`\r\n      };\r\n      users.push(omoBankUser);\r\n\r\n      // ---------------------------------------------------------\r\n      // 2. Fayda Registry Data (External National ID Record)\r\n      // ---------------------------------------------------------\r\n      const faydaRegistryRecord = {\r\n        accountNumber,\r\n        faydaNumber,\r\n        fullName,\r\n        phoneNumber,\r\n        gender: i % 2 === 0 ? 'MALE' : 'FEMALE',\r\n        dob: new Date('1990-01-01'),\r\n        status: 'active',\r\n        address: 'Addis Ababa, Ethiopia'\r\n      };\r\n      faydaCustomers.push(faydaRegistryRecord);\r\n    }\r\n\r\n    await User.insertMany(users);\r\n    await CustomerFayda.insertMany(faydaCustomers);\r\n    console.log(`Success! Seeded ${users.length} Omo Bank System Users and ${faydaCustomers.length} corresponding Fayda Registry records.`);\r\n\r\n  } catch (error) {\r\n    console.error('Error seeding database:', error);\r\n  } finally {\r\n    await mongoose.disconnect();\r\n    console.log('MongoDB disconnected.');\r\n  }\r\n};\r\n\r\nseedVerifiedCustomers();"]}