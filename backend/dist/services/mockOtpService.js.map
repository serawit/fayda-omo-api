{"version":3,"file":"mockOtpService.js","sourceRoot":"","sources":["../../src/services/mockOtpService.ts"],"names":[],"mappings":"AACA,MAAM,QAAQ,GAAG,IAAI,GAAG,EAA6C,CAAC;AAEtE,MAAM,CAAC,MAAM,OAAO,GAAG,KAAK,EAAE,WAAmB,EAAmB,EAAE;IAEpE,MAAM,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,MAAM,CAAC,CAAC,QAAQ,EAAE,CAAC;IAGpE,QAAQ,CAAC,GAAG,CAAC,WAAW,EAAE;QACxB,IAAI;QACJ,OAAO,EAAE,IAAI,CAAC,GAAG,EAAE,GAAG,CAAC,GAAG,EAAE,GAAG,IAAI;KACpC,CAAC,CAAC;IAGH,OAAO,CAAC,GAAG,CAAC,yBAAyB,WAAW,QAAQ,IAAI,EAAE,CAAC,CAAC;IAEhE,OAAO,IAAI,CAAC;AACd,CAAC,CAAC;AAEF,MAAM,CAAC,MAAM,SAAS,GAAG,KAAK,EAAE,WAAmB,EAAE,IAAY,EAAoB,EAAE;IACrF,MAAM,MAAM,GAAG,QAAQ,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;IAEzC,IAAI,CAAC,MAAM;QAAE,OAAO,KAAK,CAAC;IAE1B,IAAI,IAAI,CAAC,GAAG,EAAE,GAAG,MAAM,CAAC,OAAO,EAAE,CAAC;QAChC,QAAQ,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC;QAC7B,OAAO,KAAK,CAAC;IACf,CAAC;IAED,IAAI,MAAM,CAAC,IAAI,KAAK,IAAI,EAAE,CAAC;QACzB,QAAQ,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC;QAC7B,OAAO,IAAI,CAAC;IACd,CAAC;IAED,OAAO,KAAK,CAAC;AACf,CAAC,CAAC","sourcesContent":["// Simple in-memory store for development (Map<phoneNumber, {code, expires}>)\r\nconst otpStore = new Map<string, { code: string; expires: number }>();\r\n\r\nexport const sendOtp = async (phoneNumber: string): Promise<string> => {\r\n  // Generate 6-digit code\r\n  const code = Math.floor(100000 + Math.random() * 900000).toString();\r\n  \r\n  // Store with 5-minute expiration\r\n  otpStore.set(phoneNumber, {\r\n    code,\r\n    expires: Date.now() + 5 * 60 * 1000\r\n  });\r\n\r\n  // MOCK: Log to console instead of sending real SMS\r\n  console.log(`[MOCK SMS] üîê OTP for ${phoneNumber} is: ${code}`);\r\n  \r\n  return code;\r\n};\r\n\r\nexport const verifyOtp = async (phoneNumber: string, code: string): Promise<boolean> => {\r\n  const record = otpStore.get(phoneNumber);\r\n  \r\n  if (!record) return false;\r\n  \r\n  if (Date.now() > record.expires) {\r\n    otpStore.delete(phoneNumber);\r\n    return false;\r\n  }\r\n  \r\n  if (record.code === code) {\r\n    otpStore.delete(phoneNumber); // Consume OTP so it can't be used twice\r\n    return true;\r\n  }\r\n  \r\n  return false;\r\n};\r\n"]}